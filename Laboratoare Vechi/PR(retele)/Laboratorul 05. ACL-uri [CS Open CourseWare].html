<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0047)https://ocw.cs.pub.ro/courses/pr/laboratoare/05 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>
    Laboratorul 05. ACL-uri    [CS Open CourseWare]
  </title>

  <meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="date" content="2017-01-17T10:55:05+0200">
<meta name="keywords" content="pr,laboratoare,05">
<link rel="search" type="application/opensearchdescription+xml" href="https://ocw.cs.pub.ro/courses/lib/exe/opensearch.php" title="CS Open CourseWare">
<link rel="start" href="https://ocw.cs.pub.ro/courses/">
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="https://ocw.cs.pub.ro/courses/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="https://ocw.cs.pub.ro/courses/feed.php?mode=list&amp;ns=pr:laboratoare">
<link rel="alternate" type="text/html" title="Plain HTML" href="https://ocw.cs.pub.ro/courses/_export/xhtml/pr/laboratoare/05">
<link rel="canonical" href="http://ocw.cs.pub.ro/courses/pr/laboratoare/05">
<link rel="stylesheet" type="text/css" href="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/css.php">
<script type="text/javascript">/*<![CDATA[*/var NS='pr:laboratoare';var JSINFO = {"id":"pr:laboratoare:05","namespace":"pr:laboratoare","isadmin":0,"isauth":0};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/js.php"></script>
<script type="text/x-mathjax-config;executed=true">/*<![CDATA[*/MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"] ],
        displayMath: [ ["$$","$$"], ["\\[","\\]"] ],
        processEscapes: true
    }
});
/*!]]>*/</script>
<script src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/MathJax.js.download" id=""></script>
<script type="text/javascript">/*<![CDATA[*/
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		  
/*!]]>*/</script><script src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/ga.js.download" type="text/javascript"></script>
<script type="text/javascript">/*<![CDATA[*/
var pageTracker = _gat._getTracker("UA-38383934-1");
pageTracker._initData();
pageTracker._trackPageview();
		  
/*!]]>*/</script>

  <link rel="shortcut icon" href="https://ocw.cs.pub.ro/courses/lib/tpl/arctic/images/favicon.ico">

  
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div id="MathJax_Message" style="display: none;"></div>
<div id="wrapper" class="show">
  <div class="dokuwiki">

    
    <div class="stylehead">
      <div class="header">
        <div class="pagename">
          <a href="https://ocw.cs.pub.ro/courses/pr/"><img height="70" src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/sigla_pr.png"> </a>        </div>
        <div class="logo">
          <a style="color: #AAA !important;" href="https://ocw.cs.pub.ro/courses/systems/"><img height="70" src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/systems.png" name="dokuwiki__top"></a>        </div>
      </div>
    
       
      <div class="breadcrumbs">
              </div>
      
            </div>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
                  </div>
        <div class="bar-right">
          <a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05?do=recent" class="action recent" accesskey="r" rel="nofollow" title="Recent changes [R]">Recent changes</a><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05?do=login&amp;sectok=77fa91c0e6469dfa554c55cda88b5142" class="action login" rel="nofollow" title="Login">Login</a>        </div>
    </div>
        
    
    
    
              <div class="left_page">
          
<h2 class="sectionedit1" id="laboratorul_05_acl-uri">Laboratorul 05. ACL-uri</h2>
<div class="level2">

</div>

<h3 class="sectionedit2" id="motivatie">Motivație</h3>
<div class="level3">

<p>
Fiind în continuă creștere a numărului de angajați, compania noastră se vede în situația de a angaja lucrători la distanță pentru departamentele de Marketing și Finanțe (clădirea C). Acest lucru ridică însă o serie de probleme, fiind necesară construcția unei infrastructuri care să impună o serie de reguli de filtrare pentru accesul la resurse al lucrătorilor la distanță.
</p>

</div>

<h3 class="sectionedit3" id="topologie">Topologie</h3>
<div class="level3">

<p>
<a href="https://ocw.cs.pub.ro/courses/_detail/pr/laboratoare/topologie_acl.png?id=pr%3Alaboratoare%3A05" class="media" title="pr:laboratoare:topologie_acl.png"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/topologie_acl.png" class="mediacenter" alt=""></a>
</p>

</div>

<h3 class="sectionedit4" id="cerinte">Cerințe</h3>
<div class="level3">

</div>

<h4 id="setup">Setup</h4>
<div class="level4">

<p>
</p><p></p><div class="noteimportant"> Descărcați configurațiile inițiale de <a href="https://ocw.cs.pub.ro/courses/_media/pr/laboratoare/05_initial_configs.zip" class="media mediafile mf_zip" title="pr:laboratoare:05_initial_configs.zip (3.1 KB)">aici</a>. 
</div><p></p>
<p></p>

</div>

<h4 id="exercitii">Exerciții</h4>
<div class="level4">

<p>
Rezolvarea următoarelor taskuri va asigura configurarea corectă a echipamentelor pentru a permite accesul lucrătorilor la distanță și implementarea regulilor de filtrare a traficului.
</p>

<p>
Atenție: Ruterul Blastoise nu se află sub autoritatea Dvs., deci nu îl veți configura. El este deja configurat cu toate rutele necesare.
</p>

<p>
1.  [10p] Asigurați conectivitatea end-to-end pentru întreaga rețea, folosind un număr minim de rute statice.
</p>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Lucario(config)#ip route 0.0.0.0 0.0.0.0 66.218.168.6
Machop(config)#ip route 0.0.0.0 0.0.0.0 191.105.157.1
Machop(config)#ip route 192.168.254.0 255.255.255.0 172.29.167.2
Muk(config)#ip route 0.0.0.0 0.0.0.0  172.29.167.1</pre>
</div></div>

<p>
2. [15p] Pe ruterul Lucario există definit Loopback 0 pe care trebuie să îl aceseze doar angajaţii din zona Teleworker. Filtraţi restul traficului către această interfață.
Pentru acest task, permiteți, pe lângă traficul originat din zona Teleworker și traficul originat de pe ruterul Muk
</p>

<p>
</p><p></p><div class="notewarning">
Atentie, Restul traficului către ruterul Lucario trebuie să funcționeze în continuare!

</div><p></p>
<p></p>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Machop#ping 155.17.23.1

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 155.17.23.1, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 20/60/148 ms
Lucario(config)# ip access-list extended ONLY_TELEWORKER_TO_LOOPBACK
Lucario(config-ext-nacl)# permit ip 192.168.254.0 0.0.0.255 host 155.17.23.1
Lucario(config-ext-nacl)# permit ip host 172.29.167.2 host 155.17.23.1
Lucario(config-ext-nacl)# deny ip any host 155.17.23.1
Lucario(config-ext-nacl)# permit ip any any
Lucario(config)# int fa2/0
Lucario(config-if)# ip access-group ONLY_TELEWORKER_TO_LOOPBACK in
Muk(config)#do ping 155.17.23.1

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 155.17.23.1, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 20/78/140 ms
Muk(config)#do ping 155.17.23.1 source Lo0

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 155.17.23.1, timeout is 2 seconds:
Packet sent with a source address of 192.168.254.1
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 28/79/136 ms
Machop#ping 155.17.23.1

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 155.17.23.1, timeout is 2 seconds:
U.U.U
Success rate is 0 percent (0/5)</pre>
</div></div>

<p>
3. [20p] Lucrătorii din zona Teleworker nu au dreptul de a accesa o serie de site-uri web:
</p>
<ul>
<li class="level1"><div class="li">  208.69.127.83</div>
</li>
<li class="level1"><div class="li">  77.73.36.99</div>
</li>
<li class="level1"><div class="li">  74.125.39.0/24</div>
</li>
</ul>

<p>
Filtraţi accesul HTTP la aceste IP-uri.
Observație: Acest task POATE fi testat. Încercați 
</p>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Muk(config)#do telnet 208.69.127.83 80
Trying 208.69.127.83, 80 ... Open
^C
HTTP/1.1 400 Bad Request
Date: Fri, 01 Mar 2002 00:22:05 GMT
Server: cisco-IOS
Accept-Ranges: none

400 Bad Request

[Connection to 208.69.127.83 closed by foreign host]
Muk(config)#do telnet 77.73.36.99 80
Trying 77.73.36.99, 80 ... Open
[...]
[Connection to 77.73.36.99 closed by foreign host]
Muk(config)#do telnet 74.125.39.1 80
Trying 74.125.39.1, 80 ... Open
[...]
[Connection to 74.125.39.1 closed by foreign host]
Machop(config)#ip access-list extended NO_HTTP_TELEWORKER
Machop(config-ext-nacl)# deny tcp any host 208.69.127.83 eq www
Machop(config-ext-nacl)# deny tcp any host 77.73.36.99 eq www
Machop(config-ext-nacl)# deny tcp any 74.125.39.0 0.0.0.255 eq www
Machop(config-ext-nacl)# permit ip any any
Machop(config)#int fa0/0
Machop(config-if)#ip access-group NO_HTTP_TELEWORKER in
Muk(config)#do telnet 208.69.127.83 80
Trying 208.69.127.83, 80 ...
% Destination unreachable; gateway or host down

Muk(config)#do telnet 77.73.36.99 80
Trying 77.73.36.99, 80 ...
% Destination unreachable; gateway or host down

Muk(config)#do telnet 74.125.39.1 80
Trying 74.125.39.1, 80 ...
% Destination unreachable; gateway or host down</pre>
</div></div>

<p>
4. [20p] Permiteți accesul Telnet generat din zona Teleworker către Machop, doar pe interfața Loopback 0 a acestuia.
</p>
<ul>
<li class="level1"><div class="li"> Asigurați-vă mai întâi că Machop acceptă conexiuni de tip Telnet.</div>
</li>
<li class="level1"><div class="li"> Observație: Lista de access creată nu trebuie să afecteze funcționalitatea niciunui task anterior!</div>
</li>
</ul>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Machop(config)# line vty 0 4
Machop(config-line)# password aceofspades
Machop(config-line)# login
Machop(config-line)# transport input telnet
Machop(config)# ip access-list ext NO_HTTP_TELEWORKER
Machop(config-ext-nacl)#33 permit tcp any host 20.20.20.20 eq telnet
Machop(config-ext-nacl)#34 deny tcp any host 172.29.167.1 eq telnet
Machop(config-ext-nacl)#35 deny tcp any host 191.105.157.2 eq telnet
Muk(config)#do telnet 20.20.20.20 /source Lo0
Trying 20.20.20.20 ... Open


User Access Verification

Password:
Machop&gt;exit

[Connection to 20.20.20.20 closed by foreign host]
Muk(config)#do telnet 172.29.167.1 /source Lo0
Trying 172.29.167.1 ...
% Destination unreachable; gateway or host down

Muk(config)#do telnet 191.105.157.2 /source Lo0
Trying 191.105.157.2 ...
% Destination unreachable; gateway or host down</pre>
</div></div>

<p>
5.  [10p] Din cauza riscurilor de securitate, s-a luat decizia ca niciun server al companiei să nu se afle în clădirea C. De aceea, se poate implementa o regulă ce specifică blocarea tuturor pachetelor cu destinația clădirea C ce inițiază o conexiune TCP nouă.
</p>
<ul>
<li class="level1"><div class="li"> Observație: Pentru a putea testa acest task, cât și următorul, trebuie să porniți ruterul Caterpie, însă NU trebuie să lucrați pe acesta. După rezolvarea acestora, puteți închide acest ruter.</div>
</li>
</ul>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Lucario(config)# ip access-list ext NO_TCP_C
Lucario(config-ext-nacl)# 10 permit tcp any any established
Lucario(config-ext-nacl)# 20 deny tcp any any
Lucario(config)# int e1/0
Lucario(config-if)# ip access-group NO_TCP_C out
GunsNRoses# telnet 20.20.20.20
Trying 20.20.20.20 ... Open


User Access Verification

Password:
Machop&gt;
Machop(config-ext-nacl)#do telnet 192.168.231.2
Trying 192.168.231.2 ...
% Destination unreachable; gateway or host down
Lucario(config)#do sh access-l
Extended IP access list NO_TCP_C
    10 permit tcp any any established
    20 deny tcp any any (1 match)</pre>
</div></div>

<p>
6.  [20p] Permiteţi traficul ICMP de la Clădirea C către zona Teleworker doar dacă acesta este un răspuns la o cerere iniţiată din această zonă. Restul traficului ICMP de la Lucario către zona Teleworker trebuie să fie permis, de asemenea.
</p>
<ul>
<li class="level1"><div class="li"> Hint: Aplicaţi o listă de acces reflexivă pe ruterul Machop.</div>
</li>
</ul>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Machop(config)#do sh ip access ICMP_TO_JH
Extended IP access list ICMP_TO_JH
    10 permit icmp 172.29.167.0 0.0.0.255 192.168.231.0 0.0.0.255 reflect ICMP1 (11 matches)
    20 permit icmp 192.168.254.0 0.0.0.255 192.168.231.0 0.0.0.255 reflect ICMP2
    30 permit ip any any (15 matches)
Machop(config)#do sh ip access ICMP_FROM_JH
Extended IP access list ICMP_FROM_JH
    10 evaluate ICMP1
    20 evaluate ICMP2
    30 permit icmp host 66.218.168.5 172.29.167.0 0.0.0.255 (10 matches)
    40 permit icmp host 155.17.23.1 172.29.167.0 0.0.0.255
    50 permit icmp host 172.2.0.1 172.29.167.0 0.0.0.255
    60 permit icmp host 10.10.10.17 172.29.167.0 0.0.0.255
    70 permit icmp host 10.10.10.33 172.29.167.0 0.0.0.255
    80 permit icmp host 66.218.168.5 192.168.254.0 0.0.0.255 (5 matches)
    90 permit icmp host 155.17.23.1 192.168.254.0 0.0.0.255
    100 permit icmp host 172.2.0.1 192.168.254.0 0.0.0.255
    110 permit icmp host 10.10.10.17 192.168.254.0 0.0.0.255
    120 permit icmp host 10.10.10.33 192.168.254.0 0.0.0.255
Machop(config)#int fa1/0
Machop(config-if)#ip access-group ICMP_TO_JH out
Machop(config-if)#ip access-group ICMP_FROM_JH in</pre>

<p>
Observație: Lista de access creată nu trebuie să afecteze funcționalitatea niciunui task anterior!
</p>
</div></div>

</div>

<h3 class="sectionedit5" id="bonus">Bonus</h3>
<div class="level3">

<p>
7. [10p] Vrem ca zona Teleworker să poată accesa restul rețelei doar în zilele lucrătoare ale unei săptămâni (Luni - Vineri, în intervalul 9:00 – 18:00). Faceți configurațiile necesare pentru a permite accesul în intervalul respectiv, interzicând complet accesul zonei Teleworker la restul rețelei în afara intervalului specificat.
</p>
<ul>
<li class="level1"><div class="li"> Observație: Lista de access creată nu trebuie să afecteze funcționalitatea niciunui task anterior!</div>
</li>
<li class="level1"><div class="li"> Hint: Aplicaţi lista de acces creată pe ruterul Machop, folosind o interfaţă şi o direcţie încă nefolosite.</div>
</li>
<li class="level1"><div class="li"> Testați funcționarea acestui task schimbând ceasul pe ruterul pe care ați aplicat lista de acces prin comanda:</div>
</li>
</ul>
<div class="solution"><div class="solution_title hidden_solution_title"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/tool-source.png"><span class="title_text">Afișează rezolvarea</span></div><div class="hide_text">Ascunde rezolvarea</div><div class="show_text">Afișează rezolvarea</div><div class="solution_contents hidden_solution_contents" style="display: none;"><pre class="code">Router# clock set 01:00:00 Dec 1 2013
Machop(config)#time-range TELEWORKER_TIME
Machop(config-time-range)#periodic weekdays 09:00 to 18:00
Machop(config)#ip access-list extended TELEWORKER_ACCESS
Machop(config-ext-nacl)#permit ip any any time-range TELEWORKER_TIME
Machop(config-ext-nacl)#int fa0/0
Machop(config-if)#ip access-group TELEWORKER_ACCESS out</pre>

<p>
Hint: Aplicaţi lista de acces creată pe ruterul Machop, folosind o interfaţă şi o direcţie încă nefolosite.
</p>
</div></div>

</div>

        </div>
        <div class="right_sidebar">
          <form action="https://ocw.cs.pub.ro/courses/start" accept-charset="utf-8" class="search" id="dw__search" method="get"><div class="no"><input type="hidden" name="do" value="search"><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]"><input type="submit" value="Search" class="button" title="Search"><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>          <div class="namespace_sidebar sidebar_box">

<h1 class="sectionedit1" id="laboratoare">Laboratoare</h1>
<div class="level1">

<div><div id="nojs_indexmenu_94899198259c2012434689" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/01" class="wikilink1" title="pr:laboratoare:01">Laboratorul 01. Introducere</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/02" class="wikilink1" title="pr:laboratoare:02">Laboratorul 02. IPv6</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/03" class="wikilink1" title="pr:laboratoare:03">Laboratorul 03. OSPF</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/04" class="wikilink1" title="pr:laboratoare:04">Laboratorul 04. OSPF (2)</a></div></li>
<li class="level1"><div class="li"><span class="curid"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05" class="wikilink1" title="pr:laboratoare:05">Laboratorul 05. ACL-uri</a></span></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/06" class="wikilink1" title="pr:laboratoare:06">Laboratorul 06. Optimizarea rutării</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/07" class="wikilink1" title="pr:laboratoare:07">Laboratorul 07. BGP (1)</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/08" class="wikilink1" title="pr:laboratoare:08">Laboratorul 08. BGP (2)</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/09" class="wikilink1" title="pr:laboratoare:09">Laboratorul 09. GRE și IPsec</a></div></li>
<li class="level1"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/10" class="wikilink1" title="pr:laboratoare:10">Laboratorul 10. Recapitulare</a></div></li>
</ul>
</div></div>

</div>
<!-- EDIT1 SECTION "Laboratoare" [1-59] -->
<h1 class="sectionedit2" id="resurse">Resurse</h1>
<div class="level1">

</div>
<!-- EDIT2 SECTION "Resurse" [60-] -->
</div>
<div class="toc_sidebar sidebar_box">
<!-- TOC START -->
<div id="sb__right__dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#laboratorul_05_acl-uri">Laboratorul 05. ACL-uri</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#motivatie">Motivație</a></div></li>
<li class="level3"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#topologie">Topologie</a></div></li>
<li class="level3"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#cerinte">Cerințe</a></div>
<ul class="toc">
<li class="level4"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#setup">Setup</a></div></li>
<li class="level4"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#exercitii">Exerciții</a></div></li>
</ul>
</li>
<li class="level3"><div class="li"><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#bonus">Bonus</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
</div>
        </div>
      
    
      <div class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          pr/laboratoare/05.txt · Last modified: 2017/01/17 10:55 by sergiu.costea          </div>
        </div>
      </div>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05?do=revisions" class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05?do=media&amp;ns=pr%3Alaboratoare" class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="https://ocw.cs.pub.ro/courses/pr/laboratoare/05#dokuwiki__top" class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div align="center" class="footerinc">
  <div class="license"><a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/cc-by-sa.png" alt="CC Attribution-Share Alike 3.0 Unported"></a></div>
  <a target="_blank" href="http://www.chimeric.de/" title="www.chimeric.de"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/button-chimeric-de.png" width="80" height="15" alt="www.chimeric.de" border="0"></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/button-css.png" width="80" height="15" alt="Valid CSS" border="0"></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0"></a>

  <a target="_blank" href="http://www.firefox-browser.de/" title="do yourself a favour and use a real browser - get firefox"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/button-firefox.png" width="80" height="15" alt="do yourself a favour and use a real browser - get firefox!!" border="0"></a>
  
  <a target="_blank" href="https://ocw.cs.pub.ro/courses/feed.php" title="Recent changes RSS feed"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0"></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0"></a>
</div>

  </div>
</div>

<div class="no"><img src="./Laboratorul 05. ACL-uri [CS Open CourseWare]_files/indexer.php" width="2" height="1" alt=""></div>


</body></html>